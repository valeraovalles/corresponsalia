{% extends '::base.html.twig' %}

{% block title %}Corresponsal√≠a - Editar Usuario{% endblock %}

{% block titulobanner %}
    EDITAR USUARIO
{% endblock %}

{% block titulomodulo %}
    <h1>EDITAR USUARIO</h1>
{% endblock %}
    
{% block body %}
{{ parent() }}

    {% if form_errors(edit_form.username) or form_errors(edit_form.password) or form_errors(edit_form_perfil.primerNombre) or form_errors(edit_form_perfil.primerApellido) or form_errors(edit_form.rol) %}
    <div class="alert alert-danger errores" style="width:70%;">
        <div><b>Alerta! Ha ocurrido un error en el formulario:</b><br><br></div>
        <div>{{ form_errors(edit_form.username) }}</div>
        <div>{{ form_errors(edit_form.password) }}</div>
        <div>{{ form_errors(edit_form_perfil.primerNombre) }}</div>
        <div>{{ form_errors(edit_form_perfil.primerApellido) }}</div>
        <div>{{ form_errors(edit_form.rol) }}</div>
    </div>
    {% endif %}
    
<form novalidate class="formulario" action="{{ path('user_update', { 'id': entity.id }) }}" method="post" {{ form_enctype(edit_form) }}>

    {{ form_widget(edit_form._token) }}
    {{ form_widget(edit_form_perfil._token) }}
 
     <div class="formShow">
        <div class="contenedorform">
            <div class="labelform">Username:</div>
            <div class="widgetform">{{ form_widget(edit_form.username) }}</div>
        </div>
        <div class="contenedorform">
            <div class="labelform">Password:</div>
            <div class="widgetform">{{ form_widget(edit_form.password) }}</div>
        </div>
        <div class="contenedorform">
            <div class="labelform">Activo:</div>
            <div class="widgetform">{{ form_widget(edit_form.isActive) }}</div>
        </div>
        <div class="contenedorform">
            <div class="labelform">Primer nombre:</div>
            <div class="widgetform">{{ form_widget(edit_form_perfil.primerNombre) }}</div>
        </div>
        <div class="contenedorform">
            <div class="labelform">Segundo nombre:</div>
            <div class="widgetform">{{ form_widget(edit_form_perfil.segundoNombre) }}</div>
        </div>
        <div class="contenedorform">
            <div class="labelform">Primer apellido:</div>
            <div class="widgetform">{{ form_widget(edit_form_perfil.primerApellido) }}</div>
        </div>
        <div class="contenedorform">
            <div class="labelform">Segundo apellido:</div>
            <div class="widgetform">{{ form_widget(edit_form_perfil.segundoApellido) }}</div>
        </div>
        <div class="contenedorform">
            <div class="labelform">Rol:</div>
            <div class="widgetform">{{ form_widget(edit_form.rol) }}</div>
        </div>
    </div>


<br>

<button class="btn btn-primary" type="submit">Editar</button> | 

        <a class="btn btn-default" href="{{ path('user') }}">
            Ir a la lista
        </a> | 
        <a class="btn btn-default" href="{{ path('rol_new') }}">
            Ir a nuevo rol
        </a>

</form>

<form action="{{ path('rol_delete', { 'id': entity.id }) }}" method="post" onsubmit="return confirm('Seguro que desea eliminar')">
    {{ form_widget(delete_form) }}
    <button class="btn btn-danger" type="submit">Borrar</button>
</form>
<br>

{% endblock %}
